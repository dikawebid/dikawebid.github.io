<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=Edge"> 
		
		<title>Ferdhika Yudira</title>
		<meta name="description" content="Hi, my name is ferdhika.">
        
        <!-- Global site tag (gtag.js) - Google Analytics -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-MWNCD4SZ4Y"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());

            gtag('config', 'G-MWNCD4SZ4Y');

            let styles = [
                "color: #fff",
                "background-color: #333",
                "padding: 2px 4px",
                "border-radius: 2px"
            ].join(";");
            console.log("%cFerdhika Ganteng", styles)
        </script>

        <script>
            // This script will run after the DOM is fully loaded and parsed.
            window.addEventListener('DOMContentLoaded', () => {
                const repoContainer = document.getElementById('repo-container');

                // Function to render the list of repositories
                function displayRepos(repos) {
                    // Clear the container first (e.g., remove loading message)
                    repoContainer.innerHTML = '';

                    if (repos.length === 0) {
                        const listItem = document.createElement('li');
                        listItem.textContent = 'Pengguna ini tidak memiliki repositori publik.';
                        repoContainer.appendChild(listItem);
                        return;
                    }

                    repos.forEach(repo => {
                        const listItem = document.createElement('li');
                        const description = repo.description ? repo.description.replace(/</g, "&lt;").replace(/>/g, "&gt;") : 'Tidak ada deskripsi.';
                        
                        // Create a link for the repo name
                        const link = document.createElement('a');
                        link.href = repo.html_url;
                        link.target = '_blank';
                        link.rel = 'noopener noreferrer';
                        link.textContent = repo.name;
                        
                        listItem.appendChild(link);
                        listItem.append(`: ${description}`); // Append description after the link
                        
                        repoContainer.appendChild(listItem);
                    });
                }
                
                // Function to fetch repositories from GitHub API
                async function fetchAndDisplayRepos(username) {
                    if (!repoContainer) {
                        console.error("Element with id 'repo-container' not found.");
                        return;
                    }

                    if (!username) {
                        repoContainer.innerHTML = '<li>Silakan masukkan nama pengguna GitHub terlebih dahulu.</li>';
                        return;
                    }

                    // Display loading status
                    repoContainer.innerHTML = '<li>Memuat repositori...</li>';

                    const apiUrl = `https://api.github.com/users/${username}/repos?sort=updated&per_page=5`;

                    try {
                        const response = await fetch(apiUrl);
                        
                        if (!response.ok) {
                            if (response.status === 404) {
                                throw new Error('Pengguna tidak ditemukan.');
                            }
                            throw new Error(`Gagal mengambil data. Status: ${response.status}`);
                        }
                        
                        const repos = await response.json();
                        displayRepos(repos);

                    } catch (error) {
                        repoContainer.innerHTML = `<li>Terjadi kesalahan: ${error.message}</li>`;
                    }
                }

                // Initial load for the user 'ferdhika31'
                fetchAndDisplayRepos("ferdhika31");
            });
        </script>
    </head>
    <body>
        <h1>Ferdhika Yudira</h1>
        <p>About:</p>
        <ul>
            <li>80% Software Developer</li>
            <li>20% Dreamers</li>
        </ul>
        
        <p>Language Expertise:</p>
        <ul>
            <li>PHP</li>
            <li>HTML5/CSS3</li>
            <li>Javascript</li>
            <li>Go</li>
            <li>Python</li>
            <li>Java</li>
        </ul>

        <p>Latest Github Repos:</p>
        <ul id="repo-container">
            </ul>
        
        <p>
            Links:
            <a href="https://www.linkedin.com/in/ferdhika" target="_blank">LinkedIn</a>
            <a href="https://github.com/ferdhika31" target="_blank">GitHub</a>
        </p>
        
        <p>
            <small><em>
                "Life is not a problem to be solved, but a reality to be experienced" - Soren Kierkegaard
            </em></small>
        </p>
    </body>
</html>
